\doxysection{lstate.\+c File Reference}
\hypertarget{lstate_8c}{}\label{lstate_8c}\index{lstate.c@{lstate.c}}


Global State implementation.  


{\ttfamily \+\#include "{}lprefix.\+h"{}}\newline
{\ttfamily \+\#include $<$stddef.\+h$>$}\newline
{\ttfamily \+\#include $<$string.\+h$>$}\newline
{\ttfamily \+\#include "{}lua.\+h"{}}\newline
{\ttfamily \+\#include "{}lapi.\+h"{}}\newline
{\ttfamily \+\#include "{}ldebug.\+h"{}}\newline
{\ttfamily \+\#include "{}ldo.\+h"{}}\newline
{\ttfamily \+\#include "{}lfunc.\+h"{}}\newline
{\ttfamily \+\#include "{}lgc.\+h"{}}\newline
{\ttfamily \+\#include "{}llex.\+h"{}}\newline
{\ttfamily \+\#include "{}lmem.\+h"{}}\newline
{\ttfamily \+\#include "{}lstate.\+h"{}}\newline
{\ttfamily \+\#include "{}lstring.\+h"{}}\newline
{\ttfamily \+\#include "{}ltable.\+h"{}}\newline
{\ttfamily \+\#include "{}ltm.\+h"{}}\newline
{\ttfamily \+\#include $<$time.\+h$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \doxymbox{\hyperlink{struct_l_x}{LX}}
\item 
struct \doxymbox{\hyperlink{struct_l_g}{LG}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{lstate_8c_ab8ab59be0dd5b14c27c052f876de46a0}\label{lstate_8c_ab8ab59be0dd5b14c27c052f876de46a0} 
\+\#define {\bfseries lstate\+\_\+c}
\item 
\Hypertarget{lstate_8c_abf0b3947b59218777a8e928a10be205b}\label{lstate_8c_abf0b3947b59218777a8e928a10be205b} 
\+\#define {\bfseries LUA\+\_\+\+CORE}
\item 
\+\#define \doxymbox{\hyperlink{lstate_8c_aa1a01ba67b0f3289f5d755bd9d9bb889}{fromstate}}(L)
\item 
\+\#define \doxymbox{\hyperlink{lstate_8c_ab61c5946e20eeaeb9925bbd7fbf42e97}{addbuff}}(b,  p,  e)
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{lstate_8c_ac58513cb1c781750265c8643a2e037b0}\label{lstate_8c_ac58513cb1c781750265c8643a2e037b0} 
typedef struct LX {\bfseries LX}
\item 
\Hypertarget{lstate_8c_ae603421ab67430c2479b21cf5b46ea83}\label{lstate_8c_ae603421ab67430c2479b21cf5b46ea83} 
typedef struct LG {\bfseries LG}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \doxymbox{\hyperlink{lstate_8c_a42e891d6a8e1dc58d9a1487cefd9c236}{lua\+E\+\_\+setdebt}} (\doxymbox{\hyperlink{structglobal___state}{global\+\_\+\+State}} \texorpdfstring{$\ast$}{*}g, l\+\_\+mem debt)
\begin{DoxyCompactList}\small\item\em Sets GCdebt to a new value keeping the value (GCtotalbytes + GCdebt) invariant. \end{DoxyCompactList}\item 
LUA\+\_\+\+API int \doxymbox{\hyperlink{lstate_8c_a165fcd8b26ab13267d77c0d4bd06b886}{lua\+\_\+setcstacklimit}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L, unsigned int limit)
\begin{DoxyCompactList}\small\item\em Sets the C stack limit. \end{DoxyCompactList}\item 
\doxymbox{\hyperlink{struct_call_info}{Call\+Info}} \texorpdfstring{$\ast$}{*} \doxymbox{\hyperlink{lstate_8c_abc498fb09da07164ad447e5f1a401689}{lua\+E\+\_\+extend\+CI}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L)
\begin{DoxyCompactList}\small\item\em Extends the \doxylink{struct_call_info}{Call\+Info} list for a thread. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{lstate_8c_a59bcd5586c176d9e24bcdf9e4d07adbe}{lua\+E\+\_\+shrink\+CI}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L)
\begin{DoxyCompactList}\small\item\em Frees half of the \doxylink{struct_call_info}{Call\+Info} structures not in use by a thread, keeping the first one. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{lstate_8c_a3da163a7316194f3a2cb950ee2b4e614}{lua\+E\+\_\+checkcstack}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L)
\begin{DoxyCompactList}\small\item\em Checks if the C stack has overflowed or is approaching overflow. \end{DoxyCompactList}\item 
LUAI\+\_\+\+FUNC void \doxymbox{\hyperlink{lstate_8c_ab0a7818dc5fb3e9ab38ad91329b6e3f2}{lua\+E\+\_\+inc\+Cstack}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L)
\begin{DoxyCompactList}\small\item\em Increments the C call depth and checks for stack overflow. \end{DoxyCompactList}\item 
LUA\+\_\+\+API \doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*} \doxymbox{\hyperlink{lstate_8c_a9eb2f070b3e3bceeae22abe1788cad52}{lua\+\_\+newthread}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L)
\begin{DoxyCompactList}\small\item\em Creates a new thread (coroutine). \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{lstate_8c_a8c121cf8444c9c54e934aeb509c4b73a}{lua\+E\+\_\+freethread}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L, \doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L1)
\begin{DoxyCompactList}\small\item\em Frees a thread. \end{DoxyCompactList}\item 
int \doxymbox{\hyperlink{lstate_8c_a3363b8b529d3f7d76cb31aae2494bf7e}{lua\+E\+\_\+resetthread}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L, int status)
\begin{DoxyCompactList}\small\item\em Resets a thread to its initial state. \end{DoxyCompactList}\item 
LUA\+\_\+\+API int \doxymbox{\hyperlink{lstate_8c_a95ab7e493b56dfead9aac2d2fcbcb408}{lua\+\_\+closethread}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L, \doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}from)
\begin{DoxyCompactList}\small\item\em Closes a thread or resets it if it\textquotesingle{}s the main thread. \end{DoxyCompactList}\item 
LUA\+\_\+\+API int \doxymbox{\hyperlink{lstate_8c_afd03e385a4f4f8fcc25230c0e04f48ff}{lua\+\_\+resetthread}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L)
\begin{DoxyCompactList}\small\item\em Deprecated! Use \textquotesingle{}lua\+\_\+closethread\textquotesingle{} instead. \end{DoxyCompactList}\item 
LUA\+\_\+\+API \doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*} \doxymbox{\hyperlink{lstate_8c_adf7e98202b690cc0131169f33a6bfac8}{lua\+\_\+newstate}} (lua\+\_\+\+Alloc f, void \texorpdfstring{$\ast$}{*}ud, unsigned seed)
\begin{DoxyCompactList}\small\item\em Creates a new, independent Lua state. \end{DoxyCompactList}\item 
LUA\+\_\+\+API void \doxymbox{\hyperlink{lstate_8c_a5d903983f1497b2fc58fba9df09e354d}{lua\+\_\+close}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L)
\begin{DoxyCompactList}\small\item\em Destroys all objects in the given Lua state and frees all dynamic memory used by it. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{lstate_8c_a7055cc5e36512e37c811a7d5c6fa0be6}{lua\+E\+\_\+warning}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L, const char \texorpdfstring{$\ast$}{*}msg, int tocont)
\begin{DoxyCompactList}\small\item\em Emits a warning message. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{lstate_8c_a242ebb018d637c41f24b84a2bbc78f34}{lua\+E\+\_\+warnerror}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L, const char \texorpdfstring{$\ast$}{*}where)
\begin{DoxyCompactList}\small\item\em Generates a warning from an error message on the stack. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Global State implementation. 

This file contains functions to manage the Lua state (threads) and global state. 

\label{doc-define-members}
\Hypertarget{lstate_8c_doc-define-members}
\doxysubsection{Macro Definition Documentation}
\Hypertarget{lstate_8c_ab61c5946e20eeaeb9925bbd7fbf42e97}\index{lstate.c@{lstate.c}!addbuff@{addbuff}}
\index{addbuff@{addbuff}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{addbuff}{addbuff}}
{\footnotesize\ttfamily \label{lstate_8c_ab61c5946e20eeaeb9925bbd7fbf42e97} 
\+\#define addbuff(\begin{DoxyParamCaption}\item[{}]{b}{, }\item[{}]{p}{, }\item[{}]{e}{}\end{DoxyParamCaption})}

{\bfseries Value:\+}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{\ \textcolor{keywordtype}{size\_t}\ t\ =\ cast\_sizet(e);\ \(\backslash\)}
\DoxyCodeLine{\ \ memcpy(b\ +\ p,\ \&t,\ \textcolor{keyword}{sizeof}(t));\ p\ +=\ \textcolor{keyword}{sizeof}(t);\ \}}

\end{DoxyCode}
\Hypertarget{lstate_8c_aa1a01ba67b0f3289f5d755bd9d9bb889}\index{lstate.c@{lstate.c}!fromstate@{fromstate}}
\index{fromstate@{fromstate}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{fromstate}{fromstate}}
{\footnotesize\ttfamily \label{lstate_8c_aa1a01ba67b0f3289f5d755bd9d9bb889} 
\+\#define fromstate(\begin{DoxyParamCaption}\item[{}]{L}{}\end{DoxyParamCaption})}

{\bfseries Value:\+}
\begin{DoxyCode}{0}
\DoxyCodeLine{(cast(\doxymbox{\hyperlink{struct_l_x}{LX}}\ *,\ cast(lu\_byte\ *,\ (L))\ -\/\ offsetof(\doxymbox{\hyperlink{struct_l_x}{LX}},\ l)))}

\end{DoxyCode}


\label{doc-func-members}
\Hypertarget{lstate_8c_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{lstate_8c_a5d903983f1497b2fc58fba9df09e354d}\index{lstate.c@{lstate.c}!lua\_close@{lua\_close}}
\index{lua\_close@{lua\_close}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{lua\_close()}{lua\_close()}}
{\footnotesize\ttfamily \label{lstate_8c_a5d903983f1497b2fc58fba9df09e354d} 
LUA\+\_\+\+API void lua\+\_\+close (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{}\end{DoxyParamCaption})}



Destroys all objects in the given Lua state and frees all dynamic memory used by it. 

Destroys all objects in the given Lua state and frees all dynamic memory used by this state.


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state to close. \\
\hline
\end{DoxyParams}
\Hypertarget{lstate_8c_a95ab7e493b56dfead9aac2d2fcbcb408}\index{lstate.c@{lstate.c}!lua\_closethread@{lua\_closethread}}
\index{lua\_closethread@{lua\_closethread}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{lua\_closethread()}{lua\_closethread()}}
{\footnotesize\ttfamily \label{lstate_8c_a95ab7e493b56dfead9aac2d2fcbcb408} 
LUA\+\_\+\+API int lua\+\_\+closethread (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{, }\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{from}{}\end{DoxyParamCaption})}



Closes a thread or resets it if it\textquotesingle{}s the main thread. 

Resets a thread, cleaning its call stack and closing all pending to-\/be-\/closed variables.


\begin{DoxyParams}{Parameters}
{\em L} & The thread to close. \\
\hline
{\em from} & The thread calling this function. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The status code. 
\end{DoxyReturn}
\Hypertarget{lstate_8c_adf7e98202b690cc0131169f33a6bfac8}\index{lstate.c@{lstate.c}!lua\_newstate@{lua\_newstate}}
\index{lua\_newstate@{lua\_newstate}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{lua\_newstate()}{lua\_newstate()}}
{\footnotesize\ttfamily \label{lstate_8c_adf7e98202b690cc0131169f33a6bfac8} 
LUA\+\_\+\+API \doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*} lua\+\_\+newstate (\begin{DoxyParamCaption}\item[{lua\+\_\+\+Alloc}]{f}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{ud}{, }\item[{unsigned}]{seed}{}\end{DoxyParamCaption})}



Creates a new, independent Lua state. 

Creates a new independent state.


\begin{DoxyParams}{Parameters}
{\em f} & Memory allocator function. \\
\hline
{\em ud} & User data for the allocator. \\
\hline
{\em seed} & Random seed. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the new Lua state, or NULL on memory allocation failure. 
\end{DoxyReturn}
\Hypertarget{lstate_8c_a9eb2f070b3e3bceeae22abe1788cad52}\index{lstate.c@{lstate.c}!lua\_newthread@{lua\_newthread}}
\index{lua\_newthread@{lua\_newthread}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{lua\_newthread()}{lua\_newthread()}}
{\footnotesize\ttfamily \label{lstate_8c_a9eb2f070b3e3bceeae22abe1788cad52} 
LUA\+\_\+\+API \doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*} lua\+\_\+newthread (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{}\end{DoxyParamCaption})}



Creates a new thread (coroutine). 

Creates a new thread, pushes it on the stack, and returns a pointer to a \doxylink{structlua___state}{lua\+\_\+\+State} that represents this new thread.


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the new thread (\doxylink{structlua___state}{lua\+\_\+\+State}). 
\end{DoxyReturn}
\Hypertarget{lstate_8c_afd03e385a4f4f8fcc25230c0e04f48ff}\index{lstate.c@{lstate.c}!lua\_resetthread@{lua\_resetthread}}
\index{lua\_resetthread@{lua\_resetthread}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{lua\_resetthread()}{lua\_resetthread()}}
{\footnotesize\ttfamily \label{lstate_8c_afd03e385a4f4f8fcc25230c0e04f48ff} 
LUA\+\_\+\+API int lua\+\_\+resetthread (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{}\end{DoxyParamCaption})}



Deprecated! Use \textquotesingle{}lua\+\_\+closethread\textquotesingle{} instead. 

Resets a thread.


\begin{DoxyParams}{Parameters}
{\em L} & The thread to reset. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The status code. 
\end{DoxyReturn}
\Hypertarget{lstate_8c_a165fcd8b26ab13267d77c0d4bd06b886}\index{lstate.c@{lstate.c}!lua\_setcstacklimit@{lua\_setcstacklimit}}
\index{lua\_setcstacklimit@{lua\_setcstacklimit}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{lua\_setcstacklimit()}{lua\_setcstacklimit()}}
{\footnotesize\ttfamily \label{lstate_8c_a165fcd8b26ab13267d77c0d4bd06b886} 
LUA\+\_\+\+API int lua\+\_\+setcstacklimit (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{, }\item[{unsigned int}]{limit}{}\end{DoxyParamCaption})}



Sets the C stack limit. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
{\em limit} & The new limit (unused in this implementation). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The maximum number of C calls (LUAI\+\_\+\+MAXCCALLS). 
\end{DoxyReturn}
\Hypertarget{lstate_8c_a3da163a7316194f3a2cb950ee2b4e614}\index{lstate.c@{lstate.c}!luaE\_checkcstack@{luaE\_checkcstack}}
\index{luaE\_checkcstack@{luaE\_checkcstack}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{luaE\_checkcstack()}{luaE\_checkcstack()}}
{\footnotesize\ttfamily \label{lstate_8c_a3da163a7316194f3a2cb950ee2b4e614} 
void lua\+E\+\_\+checkcstack (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{}\end{DoxyParamCaption})}



Checks if the C stack has overflowed or is approaching overflow. 

Called when \textquotesingle{}get\+Ccalls(\+L)\textquotesingle{} is larger or equal to LUAI\+\_\+\+MAXCCALLS. If equal, raises an overflow error. If value is larger than LUAI\+\_\+\+MAXCCALLS (which means it is handling an overflow) but not much larger, does not report an error (to allow overflow handling to work).


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
\end{DoxyParams}
\Hypertarget{lstate_8c_abc498fb09da07164ad447e5f1a401689}\index{lstate.c@{lstate.c}!luaE\_extendCI@{luaE\_extendCI}}
\index{luaE\_extendCI@{luaE\_extendCI}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{luaE\_extendCI()}{luaE\_extendCI()}}
{\footnotesize\ttfamily \label{lstate_8c_abc498fb09da07164ad447e5f1a401689} 
\doxymbox{\hyperlink{struct_call_info}{Call\+Info}} \texorpdfstring{$\ast$}{*} lua\+E\+\_\+extend\+CI (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{}\end{DoxyParamCaption})}



Extends the \doxylink{struct_call_info}{Call\+Info} list for a thread. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the new \doxylink{struct_call_info}{Call\+Info} structure. 
\end{DoxyReturn}
\Hypertarget{lstate_8c_a8c121cf8444c9c54e934aeb509c4b73a}\index{lstate.c@{lstate.c}!luaE\_freethread@{luaE\_freethread}}
\index{luaE\_freethread@{luaE\_freethread}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{luaE\_freethread()}{luaE\_freethread()}}
{\footnotesize\ttfamily \label{lstate_8c_a8c121cf8444c9c54e934aeb509c4b73a} 
void lua\+E\+\_\+freethread (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{, }\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L1}{}\end{DoxyParamCaption})}



Frees a thread. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
{\em L1} & The thread to free. \\
\hline
\end{DoxyParams}
\Hypertarget{lstate_8c_ab0a7818dc5fb3e9ab38ad91329b6e3f2}\index{lstate.c@{lstate.c}!luaE\_incCstack@{luaE\_incCstack}}
\index{luaE\_incCstack@{luaE\_incCstack}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{luaE\_incCstack()}{luaE\_incCstack()}}
{\footnotesize\ttfamily \label{lstate_8c_ab0a7818dc5fb3e9ab38ad91329b6e3f2} 
LUAI\+\_\+\+FUNC void lua\+E\+\_\+inc\+Cstack (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{}\end{DoxyParamCaption})}



Increments the C call depth and checks for stack overflow. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
\end{DoxyParams}
\Hypertarget{lstate_8c_a3363b8b529d3f7d76cb31aae2494bf7e}\index{lstate.c@{lstate.c}!luaE\_resetthread@{luaE\_resetthread}}
\index{luaE\_resetthread@{luaE\_resetthread}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{luaE\_resetthread()}{luaE\_resetthread()}}
{\footnotesize\ttfamily \label{lstate_8c_a3363b8b529d3f7d76cb31aae2494bf7e} 
int lua\+E\+\_\+resetthread (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{, }\item[{int}]{status}{}\end{DoxyParamCaption})}



Resets a thread to its initial state. 


\begin{DoxyParams}{Parameters}
{\em L} & The thread to reset. \\
\hline
{\em status} & The status code. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The status code. 
\end{DoxyReturn}
\Hypertarget{lstate_8c_a42e891d6a8e1dc58d9a1487cefd9c236}\index{lstate.c@{lstate.c}!luaE\_setdebt@{luaE\_setdebt}}
\index{luaE\_setdebt@{luaE\_setdebt}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{luaE\_setdebt()}{luaE\_setdebt()}}
{\footnotesize\ttfamily \label{lstate_8c_a42e891d6a8e1dc58d9a1487cefd9c236} 
void lua\+E\+\_\+setdebt (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structglobal___state}{global\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{g}{, }\item[{l\+\_\+mem}]{debt}{}\end{DoxyParamCaption})}



Sets GCdebt to a new value keeping the value (GCtotalbytes + GCdebt) invariant. 

This function updates the GC debt while ensuring that the total perceived memory usage remains consistent. It also avoids underflows in \textquotesingle{}GCtotalbytes\textquotesingle{}.


\begin{DoxyParams}{Parameters}
{\em g} & The global state. \\
\hline
{\em debt} & The new debt value. \\
\hline
\end{DoxyParams}
\Hypertarget{lstate_8c_a59bcd5586c176d9e24bcdf9e4d07adbe}\index{lstate.c@{lstate.c}!luaE\_shrinkCI@{luaE\_shrinkCI}}
\index{luaE\_shrinkCI@{luaE\_shrinkCI}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{luaE\_shrinkCI()}{luaE\_shrinkCI()}}
{\footnotesize\ttfamily \label{lstate_8c_a59bcd5586c176d9e24bcdf9e4d07adbe} 
void lua\+E\+\_\+shrink\+CI (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{}\end{DoxyParamCaption})}



Frees half of the \doxylink{struct_call_info}{Call\+Info} structures not in use by a thread, keeping the first one. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
\end{DoxyParams}
\Hypertarget{lstate_8c_a242ebb018d637c41f24b84a2bbc78f34}\index{lstate.c@{lstate.c}!luaE\_warnerror@{luaE\_warnerror}}
\index{luaE\_warnerror@{luaE\_warnerror}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{luaE\_warnerror()}{luaE\_warnerror()}}
{\footnotesize\ttfamily \label{lstate_8c_a242ebb018d637c41f24b84a2bbc78f34} 
void lua\+E\+\_\+warnerror (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{where}{}\end{DoxyParamCaption})}



Generates a warning from an error message on the stack. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
{\em where} & The context where the error occurred. \\
\hline
\end{DoxyParams}
\Hypertarget{lstate_8c_a7055cc5e36512e37c811a7d5c6fa0be6}\index{lstate.c@{lstate.c}!luaE\_warning@{luaE\_warning}}
\index{luaE\_warning@{luaE\_warning}!lstate.c@{lstate.c}}
\doxysubsubsection{\texorpdfstring{luaE\_warning()}{luaE\_warning()}}
{\footnotesize\ttfamily \label{lstate_8c_a7055cc5e36512e37c811a7d5c6fa0be6} 
void lua\+E\+\_\+warning (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{msg}{, }\item[{int}]{tocont}{}\end{DoxyParamCaption})}



Emits a warning message. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
{\em msg} & The warning message. \\
\hline
{\em tocont} & True if the message is continued in the next call. \\
\hline
\end{DoxyParams}
