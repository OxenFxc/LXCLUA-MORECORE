\chapter{LXCLUA-\/\+NCore }
\hypertarget{md__r_e_a_d_m_e}{}\label{md__r_e_a_d_m_e}\index{LXCLUA-\/NCore@{LXCLUA-\/NCore}}
\label{md__r_e_a_d_m_e_autotoc_md43}%
\Hypertarget{md__r_e_a_d_m_e_autotoc_md43}%


\+[]\+(LICENSE) \+[]\+() \+[]\+()

\doxysectlink{md__r_e_a_d_m_e___e_n}{English}{0} \texorpdfstring{$\vert$}{|} 中文

基于 {\bfseries{Lua 5.\+5 (Custom)}} 深度定制的高性能嵌入式脚本引擎，提供增强的安全特性、扩展库支持和优化的字节码编译。\hypertarget{md__r_e_a_d_m_e_autotoc_md44}{}\doxysection{\texorpdfstring{测试平台}{测试平台}}\label{md__r_e_a_d_m_e_autotoc_md44}

\begin{DoxyTable}{3}{}{}{1}
\SetCell{c,bg=\tableheadbgcolor,font=\bfseries}平台  &\SetCell{c,bg=\tableheadbgcolor,font=\bfseries}状态  &\SetCell{c,bg=\tableheadbgcolor,font=\bfseries}字节码互通  \\
Windows (Min\+GW)  &✅ 通过  &✅  \\
Arch Linux  &✅ 通过  &✅  \\
Ubuntu  &✅ 通过  &✅  \\
Android (Termux)  &✅ 通过  &✅  \\
Android (LXCLUA JNI)  &✅ 通过  &✅  \\
\end{DoxyTable}
\hypertarget{md__r_e_a_d_m_e_autotoc_md45}{}\doxysection{\texorpdfstring{特性}{特性}}\label{md__r_e_a_d_m_e_autotoc_md45}
\hypertarget{md__r_e_a_d_m_e_autotoc_md46}{}\doxysubsection{\texorpdfstring{核心增强}{核心增强}}\label{md__r_e_a_d_m_e_autotoc_md46}

\begin{DoxyItemize}
\item {\bfseries{安全编译}} -\/ 字节码采用动态 OPcode 映射、时间戳加密、\+SHA-\/256 完整性验证
\item {\bfseries{PNG 封装}} -\/ 编译后的字节码嵌入 PNG 图像格式，增强混淆效果
\item {\bfseries{防逆向保护}} -\/ 多层加密机制有效防止字节码被反编译或篡改
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md47}{}\doxysubsection{\texorpdfstring{扩展模块}{扩展模块}}\label{md__r_e_a_d_m_e_autotoc_md47}

\begin{DoxyTable}{2}{}{}{1}
\SetCell{c,bg=\tableheadbgcolor,font=\bfseries}模块  &\SetCell{c,bg=\tableheadbgcolor,font=\bfseries}功能描述  \\
{\ttfamily json}  &内置 JSON 解析与序列化支持  \\
{\ttfamily sha256}  &SHA-\/256 哈希计算  \\
{\ttfamily lclass}  &面向对象编程支持（类、继承、多态）  \\
{\ttfamily lbitlib}  &位运算库  \\
{\ttfamily lboolib}  &布尔类型增强  \\
{\ttfamily ludatalib}  &二进制数据序列化  \\
{\ttfamily lsmgrlib}  &内存管理工具  \\
{\ttfamily ltranslator}  &代码翻译器  \\
{\ttfamily logtable}  &日志表支持  \\
{\ttfamily lptrlib}  &指针操作库  \\
{\ttfamily lvmlib}  &虚拟机扩展接口  \\
\end{DoxyTable}
\hypertarget{md__r_e_a_d_m_e_autotoc_md48}{}\doxysubsection{\texorpdfstring{编译优化}{编译优化}}\label{md__r_e_a_d_m_e_autotoc_md48}

\begin{DoxyItemize}
\item 使用 C23 标准编译
\item LTO（链接时优化）
\item 循环展开与严格别名分析
\item 去除调试符号，最小化二进制体积
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md49}{}\doxysection{\texorpdfstring{系统要求}{系统要求}}\label{md__r_e_a_d_m_e_autotoc_md49}

\begin{DoxyItemize}
\item {\bfseries{编译器}}:\+ GCC（支持 C11/\+\+C23 标准）
\item {\bfseries{平台}}:\+ Windows (Min\+GW) /\+ Linux /\+ Android (Termux)
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md50}{}\doxysection{\texorpdfstring{快速开始}{快速开始}}\label{md__r_e_a_d_m_e_autotoc_md50}
\hypertarget{md__r_e_a_d_m_e_autotoc_md51}{}\doxysubsection{\texorpdfstring{编译}{编译}}\label{md__r_e_a_d_m_e_autotoc_md51}

\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Windows\ (MinGW)}
\DoxyCodeLine{make\ mingw}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ Linux}
\DoxyCodeLine{make\ linux}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ Android\ (Termux)}
\DoxyCodeLine{make\ termux}

\end{DoxyCode}
\hypertarget{md__r_e_a_d_m_e_autotoc_md52}{}\doxysubsection{\texorpdfstring{验证安装}{验证安装}}\label{md__r_e_a_d_m_e_autotoc_md52}

\begin{DoxyCode}{0}
\DoxyCodeLine{make\ test}

\end{DoxyCode}
\hypertarget{md__r_e_a_d_m_e_autotoc_md53}{}\doxysubsection{\texorpdfstring{清理构建}{清理构建}}\label{md__r_e_a_d_m_e_autotoc_md53}

\begin{DoxyCode}{0}
\DoxyCodeLine{make\ clean}

\end{DoxyCode}
\hypertarget{md__r_e_a_d_m_e_autotoc_md54}{}\doxysection{\texorpdfstring{构建产物}{构建产物}}\label{md__r_e_a_d_m_e_autotoc_md54}

\begin{DoxyTable}{2}{}{}{1}
\SetCell{c,bg=\tableheadbgcolor,font=\bfseries}文件  &\SetCell{c,bg=\tableheadbgcolor,font=\bfseries}描述  \\
{\ttfamily liblua.\+a} /\+ {\ttfamily lua55.\+dll}  &Lua 静态库 /\+ 动态库  \\
{\ttfamily lua} /\+ {\ttfamily lua.\+exe}  &Lua 解释器  \\
{\ttfamily luac} /\+ {\ttfamily luac.\+exe}  &Lua 字节码编译器  \\
\end{DoxyTable}
\hypertarget{md__r_e_a_d_m_e_autotoc_md55}{}\doxysection{\texorpdfstring{使用示例}{使用示例}}\label{md__r_e_a_d_m_e_autotoc_md55}
\hypertarget{md__r_e_a_d_m_e_autotoc_md56}{}\doxysubsection{\texorpdfstring{运行 Lua 脚本}{运行 Lua 脚本}}\label{md__r_e_a_d_m_e_autotoc_md56}

\begin{DoxyCode}{0}
\DoxyCodeLine{./lua\ script.lua}

\end{DoxyCode}
\hypertarget{md__r_e_a_d_m_e_autotoc_md57}{}\doxysubsection{\texorpdfstring{编译为字节码}{编译为字节码}}\label{md__r_e_a_d_m_e_autotoc_md57}

\begin{DoxyCode}{0}
\DoxyCodeLine{./luac\ -\/o\ output.luac\ script.lua}

\end{DoxyCode}
\hypertarget{md__r_e_a_d_m_e_autotoc_md58}{}\doxysubsection{\texorpdfstring{嵌入到 C/\+\+C++ 项目}{嵌入到 C/\+\+C++ 项目}}\label{md__r_e_a_d_m_e_autotoc_md58}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}lua.h"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}lauxlib.h"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}lualib.h"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main()\ \{}
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{structlua___state}{lua\_State}}\ *L\ =\ luaL\_newstate();}
\DoxyCodeLine{\ \ \ \ luaL\_openlibs(L);}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ luaL\_dofile(L,\ \textcolor{stringliteral}{"{}script.lua"{}});}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ \doxymbox{\hyperlink{lstate_8c_a5d903983f1497b2fc58fba9df09e354d}{lua\_close}}(L);}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md__r_e_a_d_m_e_autotoc_md59}{}\doxysection{\texorpdfstring{项目结构}{项目结构}}\label{md__r_e_a_d_m_e_autotoc_md59}

\begin{DoxyCode}{0}
\DoxyCodeLine{.}
\DoxyCodeLine{├──\ l*.c\ /\ l*.h\ \ \ \ \ \ \#\ Lua\ 核心源码}
\DoxyCodeLine{├──\ json\_parser.*\ \ \ \ \#\ JSON\ 解析模块}
\DoxyCodeLine{├──\ sha256.*\ \ \ \ \ \ \ \ \ \#\ SHA-\/256\ 哈希模块}
\DoxyCodeLine{├──\ lclass.*\ \ \ \ \ \ \ \ \ \#\ 面向对象类系统}
\DoxyCodeLine{├──\ stb\_image*.h\ \ \ \ \ \#\ 图像处理（stb\ 库）}
\DoxyCodeLine{├──\ Makefile\ \ \ \ \ \ \ \ \ \#\ 构建脚本}
\DoxyCodeLine{└──\ lua/\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ 子版本（次逻辑）}

\end{DoxyCode}
\hypertarget{md__r_e_a_d_m_e_autotoc_md60}{}\doxysection{\texorpdfstring{安全说明}{安全说明}}\label{md__r_e_a_d_m_e_autotoc_md60}
本项目的字节码编译采用多重安全机制：


\begin{DoxyEnumerate}
\item {\bfseries{动态 OPcode 映射}} -\/ 每次编译生成唯一的指令映射表
\item {\bfseries{时间戳加密}} -\/ 使用编译时间作为加密密钥
\item {\bfseries{SHA-\/256 验证}} -\/ 确保字节码完整性
\item {\bfseries{PNG 图像封装}} -\/ 将加密数据嵌入图像格式
\end{DoxyEnumerate}

\begin{quote}
注意：这些保护措施旨在增加逆向工程难度，但不能保证绝对安全。 \end{quote}
\hypertarget{md__r_e_a_d_m_e_autotoc_md61}{}\doxysection{\texorpdfstring{许可证}{许可证}}\label{md__r_e_a_d_m_e_autotoc_md61}
本项目基于 \+[MIT 许可证]\+(LICENSE) 开源。

Lua 原始代码版权归 PUC-\/\+Rio 所有，详见 \href{https://www.lua.org/license.html}{\texttt{Lua License}}。\hypertarget{md__r_e_a_d_m_e_autotoc_md62}{}\doxysection{\texorpdfstring{贡献}{贡献}}\label{md__r_e_a_d_m_e_autotoc_md62}
欢迎提交 Issue 和 Pull Request。请参阅 \doxysectlink{md__c_o_n_t_r_i_b_u_t_i_n_g}{贡献指南}{0}。\hypertarget{md__r_e_a_d_m_e_autotoc_md63}{}\doxysection{\texorpdfstring{联系方式}{联系方式}}\label{md__r_e_a_d_m_e_autotoc_md63}

\begin{DoxyItemize}
\item {\bfseries{邮箱}}:\+ \href{mailto:difierline@yeah.net}{\texttt{difierline@yeah.\+net}}
\item {\bfseries{Git\+Hub}}:\+ \href{https://github.com/OxenFxc/LXCLUA-NCORE}{\texttt{https:\+/\+/\+github.\+com/\+\+Oxen\+Fxc/\+\+LXCLUA-\/\+NCORE}}
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md64}{}\doxysection{\texorpdfstring{致谢}{致谢}}\label{md__r_e_a_d_m_e_autotoc_md64}

\begin{DoxyItemize}
\item \href{https://www.lua.org/}{\texttt{Lua}} -\/ 原始 Lua 语言
\item \href{https://github.com/nothings/stb}{\texttt{stb}} -\/ 单头文件图像处理库 
\end{DoxyItemize}