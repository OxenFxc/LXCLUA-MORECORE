\doxysection{lmem.\+c File Reference}
\hypertarget{lmem_8c}{}\label{lmem_8c}\index{lmem.c@{lmem.c}}


Interface to Memory Manager.  


{\ttfamily \+\#include "{}lprefix.\+h"{}}\newline
{\ttfamily \+\#include $<$stddef.\+h$>$}\newline
{\ttfamily \+\#include "{}lua.\+h"{}}\newline
{\ttfamily \+\#include "{}ldebug.\+h"{}}\newline
{\ttfamily \+\#include "{}ldo.\+h"{}}\newline
{\ttfamily \+\#include "{}lgc.\+h"{}}\newline
{\ttfamily \+\#include "{}lmem.\+h"{}}\newline
{\ttfamily \+\#include "{}lobject.\+h"{}}\newline
{\ttfamily \+\#include "{}lstate.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{lmem_8c_adb2b6ef72119096fe9a546091881ab11}\label{lmem_8c_adb2b6ef72119096fe9a546091881ab11} 
\+\#define {\bfseries lmem\+\_\+c}
\item 
\Hypertarget{lmem_8c_abf0b3947b59218777a8e928a10be205b}\label{lmem_8c_abf0b3947b59218777a8e928a10be205b} 
\+\#define {\bfseries LUA\+\_\+\+CORE}
\item 
\+\#define \doxymbox{\hyperlink{lmem_8c_a55b1468d2e5f515239d03975ec468ede}{callfrealloc}}(g,  block,  os,  ns)
\item 
\+\#define \doxymbox{\hyperlink{lmem_8c_a55f218eb5e4a52ada7526051c736d69d}{cantryagain}}(g)
\item 
\+\#define \doxymbox{\hyperlink{lmem_8c_ab28b0855c7a625f9f245613df749b115}{firsttry}}(g,  block,  os,  ns)
\item 
\Hypertarget{lmem_8c_ad0c497dab6f56823e95b1e5e0c4b35a8}\label{lmem_8c_ad0c497dab6f56823e95b1e5e0c4b35a8} 
\+\#define {\bfseries MINSIZEARRAY}~4
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \texorpdfstring{$\ast$}{*} \doxymbox{\hyperlink{lmem_8c_a1c0358fd91c39b2040eebb75ed4c14e5}{lua\+M\+\_\+growaux\+\_\+}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L, void \texorpdfstring{$\ast$}{*}block, int nelems, int \texorpdfstring{$\ast$}{*}psize, int size\+\_\+elems, int limit, const char \texorpdfstring{$\ast$}{*}what)
\begin{DoxyCompactList}\small\item\em Grows an array. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \doxymbox{\hyperlink{lmem_8c_a7fe3cdb7f4720a11dc0054167d2be20b}{lua\+M\+\_\+shrinkvector\+\_\+}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L, void \texorpdfstring{$\ast$}{*}block, int \texorpdfstring{$\ast$}{*}size, int final\+\_\+n, int size\+\_\+elem)
\begin{DoxyCompactList}\small\item\em Shrinks an array. \end{DoxyCompactList}\item 
l\+\_\+noret \doxymbox{\hyperlink{lmem_8c_a8fc7df43dd830ccbe7581fd53f65bdbe}{lua\+M\+\_\+toobig}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L)
\begin{DoxyCompactList}\small\item\em Raises a memory allocation error. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{lmem_8c_a36b12d49a937e5de982e2a2a135e6824}{lua\+M\+\_\+free\+\_\+}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L, void \texorpdfstring{$\ast$}{*}block, size\+\_\+t osize)
\begin{DoxyCompactList}\small\item\em Frees a memory block. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \doxymbox{\hyperlink{lmem_8c_a7dd4e9ddf6987797216fa9cf4bc23954}{lua\+M\+\_\+realloc\+\_\+}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L, void \texorpdfstring{$\ast$}{*}block, size\+\_\+t osize, size\+\_\+t nsize)
\begin{DoxyCompactList}\small\item\em Reallocates a memory block. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \doxymbox{\hyperlink{lmem_8c_a8cb94bca57e8ae6aff344d3e6e4593af}{lua\+M\+\_\+saferealloc\+\_\+}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L, void \texorpdfstring{$\ast$}{*}block, size\+\_\+t osize, size\+\_\+t nsize)
\begin{DoxyCompactList}\small\item\em Reallocates a memory block, raising an error on failure. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \doxymbox{\hyperlink{lmem_8c_af0c92d038f767832eb8dd29eb0678096}{lua\+M\+\_\+malloc\+\_\+}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L, size\+\_\+t size, int tag)
\begin{DoxyCompactList}\small\item\em Allocates a new memory block. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{lmem_8c_acda8ef2431606c4333f4899dd1837b2d}{lua\+M\+\_\+poolinit}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L)
\begin{DoxyCompactList}\small\item\em Initializes the memory pool. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{lmem_8c_a6109e5dda01b147bad1063bb485be930}{lua\+M\+\_\+poolshutdown}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L)
\begin{DoxyCompactList}\small\item\em Shuts down the memory pool, freeing all cached blocks. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \doxymbox{\hyperlink{lmem_8c_afb4cbf701f74de76eb0e9888c2a5700d}{lua\+M\+\_\+poolalloc}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L, size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Allocates a block from the memory pool. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{lmem_8c_a8b2853c6431505988f2effe820760f51}{lua\+M\+\_\+poolfree}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L, void \texorpdfstring{$\ast$}{*}block, size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Frees a block to the memory pool. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{lmem_8c_a19ccb3767812ae4a8aaebd6bdea1ffac}{lua\+M\+\_\+poolshrink}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L)
\begin{DoxyCompactList}\small\item\em Shrinks the memory pool by freeing excess cached blocks. \end{DoxyCompactList}\item 
void \doxymbox{\hyperlink{lmem_8c_a2b799ad1487e9ddf680e6b6144195cc2}{lua\+M\+\_\+poolgc}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L)
\begin{DoxyCompactList}\small\item\em Performs garbage collection on the memory pool (shrinks it). \end{DoxyCompactList}\item 
size\+\_\+t \doxymbox{\hyperlink{lmem_8c_a2012d0404a309e3a5c60d7def8751c2a}{lua\+M\+\_\+poolgetusage}} (\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}L)
\begin{DoxyCompactList}\small\item\em Returns the total memory usage of the memory pool. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Interface to Memory Manager. 

This file contains the implementation of the memory manager, including generic allocation functions and the small object memory pool. 

\label{doc-define-members}
\Hypertarget{lmem_8c_doc-define-members}
\doxysubsection{Macro Definition Documentation}
\Hypertarget{lmem_8c_a55b1468d2e5f515239d03975ec468ede}\index{lmem.c@{lmem.c}!callfrealloc@{callfrealloc}}
\index{callfrealloc@{callfrealloc}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{callfrealloc}{callfrealloc}}
{\footnotesize\ttfamily \label{lmem_8c_a55b1468d2e5f515239d03975ec468ede} 
\+\#define callfrealloc(\begin{DoxyParamCaption}\item[{}]{g}{, }\item[{}]{block}{, }\item[{}]{os}{, }\item[{}]{ns}{}\end{DoxyParamCaption})}

{\bfseries Value:\+}
\begin{DoxyCode}{0}
\DoxyCodeLine{((*g-\/>frealloc)(g-\/>ud,\ block,\ os,\ ns))}

\end{DoxyCode}
\Hypertarget{lmem_8c_a55f218eb5e4a52ada7526051c736d69d}\index{lmem.c@{lmem.c}!cantryagain@{cantryagain}}
\index{cantryagain@{cantryagain}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{cantryagain}{cantryagain}}
{\footnotesize\ttfamily \label{lmem_8c_a55f218eb5e4a52ada7526051c736d69d} 
\+\#define cantryagain(\begin{DoxyParamCaption}\item[{}]{g}{}\end{DoxyParamCaption})}

{\bfseries Value:\+}
\begin{DoxyCode}{0}
\DoxyCodeLine{(completestate(g)\ \&\&\ !g-\/>gcstopem)}

\end{DoxyCode}
\Hypertarget{lmem_8c_ab28b0855c7a625f9f245613df749b115}\index{lmem.c@{lmem.c}!firsttry@{firsttry}}
\index{firsttry@{firsttry}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{firsttry}{firsttry}}
{\footnotesize\ttfamily \label{lmem_8c_ab28b0855c7a625f9f245613df749b115} 
\+\#define firsttry(\begin{DoxyParamCaption}\item[{}]{g}{, }\item[{}]{block}{, }\item[{}]{os}{, }\item[{}]{ns}{}\end{DoxyParamCaption})}

{\bfseries Value:\+}
\begin{DoxyCode}{0}
\DoxyCodeLine{callfrealloc(g,\ block,\ os,\ ns)}

\end{DoxyCode}


\label{doc-func-members}
\Hypertarget{lmem_8c_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{lmem_8c_a36b12d49a937e5de982e2a2a135e6824}\index{lmem.c@{lmem.c}!luaM\_free\_@{luaM\_free\_}}
\index{luaM\_free\_@{luaM\_free\_}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{luaM\_free\_()}{luaM\_free\_()}}
{\footnotesize\ttfamily \label{lmem_8c_a36b12d49a937e5de982e2a2a135e6824} 
void lua\+M\+\_\+free\+\_\+ (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{block}{, }\item[{size\+\_\+t}]{osize}{}\end{DoxyParamCaption})}



Frees a memory block. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
{\em block} & The block to free. \\
\hline
{\em osize} & The size of the block. \\
\hline
\end{DoxyParams}
\Hypertarget{lmem_8c_a1c0358fd91c39b2040eebb75ed4c14e5}\index{lmem.c@{lmem.c}!luaM\_growaux\_@{luaM\_growaux\_}}
\index{luaM\_growaux\_@{luaM\_growaux\_}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{luaM\_growaux\_()}{luaM\_growaux\_()}}
{\footnotesize\ttfamily \label{lmem_8c_a1c0358fd91c39b2040eebb75ed4c14e5} 
void \texorpdfstring{$\ast$}{*} lua\+M\+\_\+growaux\+\_\+ (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{block}{, }\item[{int}]{nelems}{, }\item[{int \texorpdfstring{$\ast$}{*}}]{psize}{, }\item[{int}]{size\+\_\+elems}{, }\item[{int}]{limit}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{what}{}\end{DoxyParamCaption})}



Grows an array. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
{\em block} & The current block. \\
\hline
{\em nelems} & Number of elements needed. \\
\hline
{\em psize} & Pointer to the current size (in elements). \\
\hline
{\em size\+\_\+elems} & Size of each element. \\
\hline
{\em limit} & Maximum number of elements. \\
\hline
{\em what} & Description of the array (for error messages). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The new block address. 
\end{DoxyReturn}
\Hypertarget{lmem_8c_af0c92d038f767832eb8dd29eb0678096}\index{lmem.c@{lmem.c}!luaM\_malloc\_@{luaM\_malloc\_}}
\index{luaM\_malloc\_@{luaM\_malloc\_}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{luaM\_malloc\_()}{luaM\_malloc\_()}}
{\footnotesize\ttfamily \label{lmem_8c_af0c92d038f767832eb8dd29eb0678096} 
void \texorpdfstring{$\ast$}{*} lua\+M\+\_\+malloc\+\_\+ (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{, }\item[{size\+\_\+t}]{size}{, }\item[{int}]{tag}{}\end{DoxyParamCaption})}



Allocates a new memory block. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
{\em size} & The size to allocate. \\
\hline
{\em tag} & The tag for the block (unused in standard Lua, but passed to allocator). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The new block address. 
\end{DoxyReturn}
\Hypertarget{lmem_8c_afb4cbf701f74de76eb0e9888c2a5700d}\index{lmem.c@{lmem.c}!luaM\_poolalloc@{luaM\_poolalloc}}
\index{luaM\_poolalloc@{luaM\_poolalloc}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{luaM\_poolalloc()}{luaM\_poolalloc()}}
{\footnotesize\ttfamily \label{lmem_8c_afb4cbf701f74de76eb0e9888c2a5700d} 
void \texorpdfstring{$\ast$}{*} lua\+M\+\_\+poolalloc (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{, }\item[{size\+\_\+t}]{size}{}\end{DoxyParamCaption})}



Allocates a block from the memory pool. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
{\em size} & The size to allocate. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The allocated block, or NULL if allocation failed. 
\end{DoxyReturn}
\Hypertarget{lmem_8c_a8b2853c6431505988f2effe820760f51}\index{lmem.c@{lmem.c}!luaM\_poolfree@{luaM\_poolfree}}
\index{luaM\_poolfree@{luaM\_poolfree}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{luaM\_poolfree()}{luaM\_poolfree()}}
{\footnotesize\ttfamily \label{lmem_8c_a8b2853c6431505988f2effe820760f51} 
void lua\+M\+\_\+poolfree (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{block}{, }\item[{size\+\_\+t}]{size}{}\end{DoxyParamCaption})}



Frees a block to the memory pool. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
{\em block} & The block to free. \\
\hline
{\em size} & The size of the block. \\
\hline
\end{DoxyParams}
\Hypertarget{lmem_8c_a2b799ad1487e9ddf680e6b6144195cc2}\index{lmem.c@{lmem.c}!luaM\_poolgc@{luaM\_poolgc}}
\index{luaM\_poolgc@{luaM\_poolgc}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{luaM\_poolgc()}{luaM\_poolgc()}}
{\footnotesize\ttfamily \label{lmem_8c_a2b799ad1487e9ddf680e6b6144195cc2} 
void lua\+M\+\_\+poolgc (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{}\end{DoxyParamCaption})}



Performs garbage collection on the memory pool (shrinks it). 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
\end{DoxyParams}
\Hypertarget{lmem_8c_a2012d0404a309e3a5c60d7def8751c2a}\index{lmem.c@{lmem.c}!luaM\_poolgetusage@{luaM\_poolgetusage}}
\index{luaM\_poolgetusage@{luaM\_poolgetusage}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{luaM\_poolgetusage()}{luaM\_poolgetusage()}}
{\footnotesize\ttfamily \label{lmem_8c_a2012d0404a309e3a5c60d7def8751c2a} 
size\+\_\+t lua\+M\+\_\+poolgetusage (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{}\end{DoxyParamCaption})}



Returns the total memory usage of the memory pool. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Total memory used by cached blocks. 
\end{DoxyReturn}
\Hypertarget{lmem_8c_acda8ef2431606c4333f4899dd1837b2d}\index{lmem.c@{lmem.c}!luaM\_poolinit@{luaM\_poolinit}}
\index{luaM\_poolinit@{luaM\_poolinit}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{luaM\_poolinit()}{luaM\_poolinit()}}
{\footnotesize\ttfamily \label{lmem_8c_acda8ef2431606c4333f4899dd1837b2d} 
void lua\+M\+\_\+poolinit (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{}\end{DoxyParamCaption})}



Initializes the memory pool. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
\end{DoxyParams}
\Hypertarget{lmem_8c_a19ccb3767812ae4a8aaebd6bdea1ffac}\index{lmem.c@{lmem.c}!luaM\_poolshrink@{luaM\_poolshrink}}
\index{luaM\_poolshrink@{luaM\_poolshrink}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{luaM\_poolshrink()}{luaM\_poolshrink()}}
{\footnotesize\ttfamily \label{lmem_8c_a19ccb3767812ae4a8aaebd6bdea1ffac} 
void lua\+M\+\_\+poolshrink (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{}\end{DoxyParamCaption})}



Shrinks the memory pool by freeing excess cached blocks. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
\end{DoxyParams}
\Hypertarget{lmem_8c_a6109e5dda01b147bad1063bb485be930}\index{lmem.c@{lmem.c}!luaM\_poolshutdown@{luaM\_poolshutdown}}
\index{luaM\_poolshutdown@{luaM\_poolshutdown}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{luaM\_poolshutdown()}{luaM\_poolshutdown()}}
{\footnotesize\ttfamily \label{lmem_8c_a6109e5dda01b147bad1063bb485be930} 
void lua\+M\+\_\+poolshutdown (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{}\end{DoxyParamCaption})}



Shuts down the memory pool, freeing all cached blocks. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
\end{DoxyParams}
\Hypertarget{lmem_8c_a7dd4e9ddf6987797216fa9cf4bc23954}\index{lmem.c@{lmem.c}!luaM\_realloc\_@{luaM\_realloc\_}}
\index{luaM\_realloc\_@{luaM\_realloc\_}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{luaM\_realloc\_()}{luaM\_realloc\_()}}
{\footnotesize\ttfamily \label{lmem_8c_a7dd4e9ddf6987797216fa9cf4bc23954} 
void \texorpdfstring{$\ast$}{*} lua\+M\+\_\+realloc\+\_\+ (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{block}{, }\item[{size\+\_\+t}]{osize}{, }\item[{size\+\_\+t}]{nsize}{}\end{DoxyParamCaption})}



Reallocates a memory block. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
{\em block} & The current block. \\
\hline
{\em osize} & The old size. \\
\hline
{\em nsize} & The new size. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The new block address, or NULL on failure. 
\end{DoxyReturn}
\Hypertarget{lmem_8c_a8cb94bca57e8ae6aff344d3e6e4593af}\index{lmem.c@{lmem.c}!luaM\_saferealloc\_@{luaM\_saferealloc\_}}
\index{luaM\_saferealloc\_@{luaM\_saferealloc\_}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{luaM\_saferealloc\_()}{luaM\_saferealloc\_()}}
{\footnotesize\ttfamily \label{lmem_8c_a8cb94bca57e8ae6aff344d3e6e4593af} 
void \texorpdfstring{$\ast$}{*} lua\+M\+\_\+saferealloc\+\_\+ (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{block}{, }\item[{size\+\_\+t}]{osize}{, }\item[{size\+\_\+t}]{nsize}{}\end{DoxyParamCaption})}



Reallocates a memory block, raising an error on failure. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
{\em block} & The current block. \\
\hline
{\em osize} & The old size. \\
\hline
{\em nsize} & The new size. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The new block address. 
\end{DoxyReturn}
\Hypertarget{lmem_8c_a7fe3cdb7f4720a11dc0054167d2be20b}\index{lmem.c@{lmem.c}!luaM\_shrinkvector\_@{luaM\_shrinkvector\_}}
\index{luaM\_shrinkvector\_@{luaM\_shrinkvector\_}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{luaM\_shrinkvector\_()}{luaM\_shrinkvector\_()}}
{\footnotesize\ttfamily \label{lmem_8c_a7fe3cdb7f4720a11dc0054167d2be20b} 
void \texorpdfstring{$\ast$}{*} lua\+M\+\_\+shrinkvector\+\_\+ (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{, }\item[{void \texorpdfstring{$\ast$}{*}}]{block}{, }\item[{int \texorpdfstring{$\ast$}{*}}]{size}{, }\item[{int}]{final\+\_\+n}{, }\item[{int}]{size\+\_\+elem}{}\end{DoxyParamCaption})}



Shrinks an array. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
{\em block} & The current block. \\
\hline
{\em size} & Pointer to the current size (in elements). \\
\hline
{\em final\+\_\+n} & Final number of elements. \\
\hline
{\em size\+\_\+elem} & Size of each element. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The new block address. 
\end{DoxyReturn}
\Hypertarget{lmem_8c_a8fc7df43dd830ccbe7581fd53f65bdbe}\index{lmem.c@{lmem.c}!luaM\_toobig@{luaM\_toobig}}
\index{luaM\_toobig@{luaM\_toobig}!lmem.c@{lmem.c}}
\doxysubsubsection{\texorpdfstring{luaM\_toobig()}{luaM\_toobig()}}
{\footnotesize\ttfamily \label{lmem_8c_a8fc7df43dd830ccbe7581fd53f65bdbe} 
l\+\_\+noret lua\+M\+\_\+toobig (\begin{DoxyParamCaption}\item[{\doxymbox{\hyperlink{structlua___state}{lua\+\_\+\+State}} \texorpdfstring{$\ast$}{*}}]{L}{}\end{DoxyParamCaption})}



Raises a memory allocation error. 


\begin{DoxyParams}{Parameters}
{\em L} & The Lua state. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Never returns. 
\end{DoxyReturn}
